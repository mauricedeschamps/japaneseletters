<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese Kana Learner</title>
    <style>
        :root {
            --bg-color: #121212;
            --text-color: #ffffff;
            --button-bg: #333333;
            --button-hover: #555555;
            --button-text: #ffffff;
            --header-bg: #1a1a1a;
        }

        .clear-mode {
            --bg-color: #f5f5f5;
            --text-color: #000000;
            --button-bg: #e0e0e0;
            --button-hover: #cccccc;
            --button-text: #000000;
            --header-bg: #eeeeee;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            background-color: var(--header-bg);
            margin-bottom: 20px;
            border-radius: 10px;
            padding: 10px 20px;
        }

        h1 {
            margin: 0;
            font-size: 1.5rem;
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
        }

        button {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--button-hover);
        }

        .kana-toggle {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }

        .kana-toggle button {
            padding: 10px 20px;
            font-size: 1rem;
        }

        .kana-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .kana-row button {
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .kana-detail {
            display: none;
            flex-direction: column;
            align-items: center;
        }

        .back-button {
            margin-bottom: 20px;
            padding: 10px 20px;
        }

        .active {
            background-color: #4CAF50 !important;
            color: white !important;
        }
    </style>
</head>
<body class="dark-mode">
    <div class="container">
        <header>
            <h1>Japanese Kana Learner</h1>
            <div class="mode-toggle">
                <button id="darkModeBtn" class="active">Dark Mode</button>
                <button id="clearModeBtn">Clear Mode</button>
            </div>
        </header>

        <div class="kana-toggle">
            <button id="hiraganaBtn" class="active">Hiragana</button>
            <button id="katakanaBtn">Katakana</button>
        </div>

        <div id="mainMenu">
            <div class="kana-row">
                <button class="row-btn" data-row="a">あ行</button>
                <button class="row-btn" data-row="ka">か行</button>
                <button class="row-btn" data-row="sa">さ行</button>
                <button class="row-btn" data-row="ta">た行</button>
                <button class="row-btn" data-row="na">な行</button>
            </div>
            <div class="kana-row">
                <button class="row-btn" data-row="ha">は行</button>
                <button class="row-btn" data-row="ma">ま行</button>
                <button class="row-btn" data-row="ya">や行</button>
                <button class="row-btn" data-row="ra">ら行</button>
                <button class="row-btn" data-row="wa">わ行</button>
            </div>
        </div>

        <div id="kanaDetail" class="kana-detail">
            <button class="back-button" id="backBtn">Back</button>
            <div class="kana-row" id="detailKanaRow"></div>
        </div>
    </div>

    <script>
        // Kana data
        const hiragana = {
            a: ['あ', 'い', 'う', 'え', 'お'],
            ka: ['か', 'き', 'く', 'け', 'こ'],
            sa: ['さ', 'し', 'す', 'せ', 'そ'],
            ta: ['た', 'ち', 'つ', 'て', 'と'],
            na: ['な', 'に', 'ぬ', 'ね', 'の'],
            ha: ['は', 'ひ', 'ふ', 'へ', 'ほ'],
            ma: ['ま', 'み', 'む', 'め', 'も'],
            ya: ['や', '', 'ゆ', '', 'よ'],
            ra: ['ら', 'り', 'る', 'れ', 'ろ'],
            wa: ['わ', '', 'を', '', 'ん']
        };

        const katakana = {
            a: ['ア', 'イ', 'ウ', 'エ', 'オ'],
            ka: ['カ', 'キ', 'ク', 'ケ', 'コ'],
            sa: ['サ', 'シ', 'ス', 'セ', 'ソ'],
            ta: ['タ', 'チ', 'ツ', 'テ', 'ト'],
            na: ['ナ', 'ニ', 'ヌ', 'ネ', 'ノ'],
            ha: ['ハ', 'ヒ', 'フ', 'ヘ', 'ホ'],
            ma: ['マ', 'ミ', 'ム', 'メ', 'モ'],
            ya: ['ヤ', '', 'ユ', '', 'ヨ'],
            ra: ['ラ', 'リ', 'ル', 'レ', 'ロ'],
            wa: ['ワ', '', 'ヲ', '', 'ン']
        };

        const romaji = {
            a: ['A', 'I', 'U', 'E', 'O'],
            ka: ['KA', 'KI', 'KU', 'KE', 'KO'],
            sa: ['SA', 'SHI', 'SU', 'SE', 'SO'],
            ta: ['TA', 'CHI', 'TSU', 'TE', 'TO'],
            na: ['NA', 'NI', 'NU', 'NE', 'NO'],
            ha: ['HA', 'HI', 'FU', 'HE', 'HO'],
            ma: ['MA', 'MI', 'MU', 'ME', 'MO'],
            ya: ['YA', '', 'YU', '', 'YO'],
            ra: ['RA', 'RI', 'RU', 'RE', 'RO'],
            wa: ['WA', '', 'WO', '', 'N']
        };

        // DOM elements
        const darkModeBtn = document.getElementById('darkModeBtn');
        const clearModeBtn = document.getElementById('clearModeBtn');
        const hiraganaBtn = document.getElementById('hiraganaBtn');
        const katakanaBtn = document.getElementById('katakanaBtn');
        const mainMenu = document.getElementById('mainMenu');
        const kanaDetail = document.getElementById('kanaDetail');
        const backBtn = document.getElementById('backBtn');
        const detailKanaRow = document.getElementById('detailKanaRow');
        const rowButtons = document.querySelectorAll('.row-btn');

        // Current mode
        let isHiraganaMode = true;

        // Event listeners
        darkModeBtn.addEventListener('click', () => {
            document.body.classList.remove('clear-mode');
            darkModeBtn.classList.add('active');
            clearModeBtn.classList.remove('active');
        });

        clearModeBtn.addEventListener('click', () => {
            document.body.classList.add('clear-mode');
            clearModeBtn.classList.add('active');
            darkModeBtn.classList.remove('active');
        });

        hiraganaBtn.addEventListener('click', () => {
            isHiraganaMode = true;
            hiraganaBtn.classList.add('active');
            katakanaBtn.classList.remove('active');
        });

        katakanaBtn.addEventListener('click', () => {
            isHiraganaMode = false;
            katakanaBtn.classList.add('active');
            hiraganaBtn.classList.remove('active');
        });

        rowButtons.forEach(button => {
            button.addEventListener('click', () => {
                const row = button.getAttribute('data-row');
                showKanaDetail(row);
            });
        });

        backBtn.addEventListener('click', () => {
            mainMenu.style.display = 'block';
            kanaDetail.style.display = 'none';
        });

        // Functions
        function showKanaDetail(row) {
            mainMenu.style.display = 'none';
            kanaDetail.style.display = 'flex';
            detailKanaRow.innerHTML = '';

            const kanaSet = isHiraganaMode ? hiragana : katakana;
            const currentRow = kanaSet[row];
            const romajiRow = romaji[row];

            currentRow.forEach((kana, index) => {
                if (kana) { // Skip empty entries (like in ya-row)
                    const button = document.createElement('button');
                    button.className = 'kana-char';
                    button.textContent = kana;
                    button.addEventListener('click', () => {
                        speak(romajiRow[index]);
                    });
                    detailKanaRow.appendChild(button);
                }
            });
        }

        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>